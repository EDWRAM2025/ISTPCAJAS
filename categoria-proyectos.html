<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyectos - Categor√≠a</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <div class="dashboard-wrapper">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo-small">
                    <img src="imagen/logocajas.png" alt="Logo Instituto Cajas" class="logo-sidebar">
                </div>
                <h3>IESTP "AACD"</h3>
            </div>

            <nav class="sidebar-nav">
                <a href="#" class="nav-item" onclick="volverDashboard()">
                    <span class="nav-icon">üìä</span>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item active">
                    <span class="nav-icon">üìÅ</span>
                    <span id="sidebarProyectosText">Proyectos</span>
                </a>

            </nav>

            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">
                        <span id="userInitials">U</span>
                    </div>
                    <div class="user-details">
                        <p class="user-name" id="userName">Usuario</p>
                        <p class="user-role" id="userRole">Rol</p>
                    </div>
                </div>
                <button class="btn-logout" onclick="logout()">
                    <span>üö™</span> Salir
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-bar">
                <div>
                    <button class="btn-back" onclick="volverDashboard()">‚Üê Volver</button>
                    <h1 id="categoriaTitulo">Proyectos</h1>
                </div>
                <div class="top-bar-actions">
                    <!-- Este bot√≥n solo se muestra para investigadores -->
                    <button class="btn-primary" id="btnNuevoProyecto" onclick="mostrarModalNuevoProyecto()"
                        style="display: none;">
                        + Nuevo Proyecto
                    </button>
                </div>
            </header>

            <div class="content-area">
                <div class="proyectos-grid" id="proyectosGrid">
                    <!-- Se llenar√° din√°micamente con proyectos -->
                </div>

                <div id="emptyState" class="empty-state">
                    <div class="empty-icon">üìÅ</div>
                    <h3 id="emptyStateTitle">No hay proyectos a√∫n</h3>
                    <p id="emptyStateMessage">Comienza creando tu primer proyecto</p>
                    <button class="btn-primary" id="btnEmptyStateCrear" onclick="mostrarModalNuevoProyecto()"
                        style="display: none;">
                        + Crear Proyecto
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal Nuevo Proyecto (Solo para investigadores) -->
    <!-- Modal Nuevo Proyecto - INFORMACI√ìN GENERAL DEL PROYECTO -->
    <div id="modalNuevoProyecto" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>üìã Informaci√≥n General del Proyecto</h3>
                <button class="modal-close" onclick="cerrarModalNuevoProyecto()">&times;</button>
            </div>
            <form id="formNuevoProyecto" class="modal-body">
                <div class="alert alert-info" style="margin-bottom: 20px;">
                    <strong>‚ÑπÔ∏è Primer Entregable:</strong> Complete todos los campos para generar autom√°ticamente el
                    Reporte de Constancia de Informe General.
                </div>

                <!-- T√≠tulo del Proyecto -->
                <div class="form-group">
                    <label for="tituloProyecto">T√≠tulo del Proyecto *</label>
                    <input type="text" id="tituloProyecto" required placeholder="Ingrese el t√≠tulo del proyecto">
                </div>

                <!-- Tipo de Investigaci√≥n y Programa de Estudio -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="tipoInvestigacion">Tipo de Investigaci√≥n *</label>
                        <select id="tipoInvestigacion" required>
                            <option value="">Seleccione...</option>
                            <option value="aplicada">Investigaci√≥n Aplicada</option>
                            <option value="innovacion">Innovaci√≥n Pedag√≥gica</option>
                            <option value="innovacion">Innovaci√≥n Tecnol√≥gica</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="programaEstudio">Programa de Estudio *</label>
                        <select id="programaEstudio" required>
                            <option value="">Seleccione...</option>
                            <option value="asistencia-administrativa">Asistencia Administrativa</option>
                            <option value="diseno-programacion-web">Dise√±o y Programaci√≥n Web</option>
                            <option value="electricidad-industrial">Electricidad Industrial</option>
                            <option value="electronica-industrial">Electr√≥nica industrial</option>
                            <option value="mantenimiento-maquinaria-pesada">Mantenimiento de Maquinaria Pesada</option>
                            <option value="mecatronica-automotriz">Mecatr√≥nica automotriz</option>
                            <option value="mecanica-produccion-industrial">Mec√°nica de producci√≥n industrial</option>
                            <option value="metalurgia">Metalurgia</option>
                            <option value="tecnologia-analisis-quimico">Tecnolog√≠a de An√°lisis Qu√≠mico</option>
                        </select>
                    </div>
                </div>

                <!-- L√≠nea de Investigaci√≥n -->
                <div class="form-group">
                    <label for="lineaInvestigacion">L√≠nea de Investigaci√≥n *</label>
                    <select id="lineaInvestigacion" required disabled>
                        <option value="">Primero seleccione un Programa de Estudio</option>
                    </select>
                </div>

                <!-- Integrantes -->
                <div class="form-group">
                    <label for="integrantes">Integrante(s) del Proyecto *</label>
                    <textarea id="integrantes" required rows="3"
                        placeholder="Ingrese los nombres de los integrantes (separados por coma)&#10;Ejemplo: Juan P√©rez, Mar√≠a Garc√≠a, Carlos L√≥pez"></textarea>
                    <small>üí° Ingrese los nombres completos separados por comas</small>
                </div>

                <!-- Objetivo del Proyecto -->
                <div class="form-group">
                    <label for="objetivoProyecto">Objetivo del Proyecto *</label>
                    <textarea id="objetivoProyecto" required rows="4"
                        placeholder="Describa el objetivo principal del proyecto"></textarea>
                </div>

                <!-- Beneficiarios y Localizaci√≥n -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="beneficiarios">Beneficiarios *</label>
                        <input type="text" id="beneficiarios" required placeholder="¬øQui√©nes se beneficiar√°n?">
                    </div>
                    <div class="form-group">
                        <label for="localizacion">Localizaci√≥n *</label>
                        <input type="text" id="localizacion" required placeholder="Lugar donde se realizar√°">
                    </div>
                </div>

                <!-- Fechas -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="fechaInicio">Fecha de Inicio *</label>
                        <input type="date" id="fechaInicio" required>
                    </div>
                    <div class="form-group">
                        <label for="fechaFinalizacion">Fecha de Finalizaci√≥n *</label>
                        <input type="date" id="fechaFinalizacion" required>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="cerrarModalNuevoProyecto()">Cancelar</button>
                    <button type="submit" class="btn-primary">üìÑ Crear Proyecto </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Editar Proyecto -->
    <div id="modalEditarProyecto" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>‚úèÔ∏è Editar Informaci√≥n del Proyecto</h3>
                <button class="modal-close" onclick="cerrarModalEditarProyecto()">&times;</button>
            </div>
            <form id="formEditarProyecto" class="modal-body">
                <input type="hidden" id="editProyectoId">

                <div class="alert alert-warning" style="margin-bottom: 20px;">
                    <strong>‚ö†Ô∏è Atenci√≥n:</strong> Al editar el proyecto, se regenerar√° el reporte autom√°ticamente con
                    los nuevos datos.
                </div>

                <!-- T√≠tulo del Proyecto -->
                <div class="form-group">
                    <label for="editTituloProyecto">T√≠tulo del Proyecto *</label>
                    <input type="text" id="editTituloProyecto" required>
                </div>

                <!-- Tipo de Investigaci√≥n y Programa de Estudio -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="editTipoInvestigacion">Tipo de Investigaci√≥n *</label>
                        <select id="editTipoInvestigacion" required>
                            <option value="">Seleccione...</option>
                            <option value="aplicada">Aplicada</option>
                            <option value="innovacion">Innovaci√≥n</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editProgramaEstudio">Programa de Estudio *</label>
                        <select id="editProgramaEstudio" required>
                            <option value="">Seleccione...</option>
                            <option value="asistencia-administrativa">Asistencia Administrativa</option>
                            <option value="diseno-programacion-web">Dise√±o y Programaci√≥n Web</option>
                            <option value="electricidad-industrial">Electricidad Industrial</option>
                            <option value="electronica-industrial">Electr√≥nica industrial</option>
                            <option value="mantenimiento-maquinaria-pesada">Mantenimiento de Maquinaria Pesada</option>
                            <option value="mecatronica-automotriz">Mecatr√≥nica automotriz</option>
                            <option value="mecanica-produccion-industrial">Mec√°nica de producci√≥n industrial</option>
                            <option value="metalurgia">Metalurgia</option>
                            <option value="tecnologia-analisis-quimico">Tecnolog√≠a de An√°lisis Qu√≠mico</option>
                        </select>
                    </div>
                </div>

                <!-- L√≠nea de Investigaci√≥n -->
                <div class="form-group">
                    <label for="editLineaInvestigacion">L√≠nea de Investigaci√≥n *</label>
                    <select id="editLineaInvestigacion" required disabled>
                        <option value="">Primero seleccione un Programa de Estudio</option>
                    </select>
                </div>

                <!-- Integrantes -->
                <div class="form-group">
                    <label for="editIntegrantes">Integrante(s) del Proyecto *</label>
                    <textarea id="editIntegrantes" required rows="3"></textarea>
                </div>

                <!-- Objetivo del Proyecto -->
                <div class="form-group">
                    <label for="editObjetivoProyecto">Objetivo del Proyecto *</label>
                    <textarea id="editObjetivoProyecto" required rows="4"></textarea>
                </div>

                <!-- Beneficiarios y Localizaci√≥n -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="editBeneficiarios">Beneficiarios *</label>
                        <input type="text" id="editBeneficiarios" required>
                    </div>
                    <div class="form-group">
                        <label for="editLocalizacion">Localizaci√≥n *</label>
                        <input type="text" id="editLocalizacion" required>
                    </div>
                </div>

                <!-- Fechas -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="editFechaInicio">Fecha de Inicio *</label>
                        <input type="date" id="editFechaInicio" required>
                    </div>
                    <div class="form-group">
                        <label for="editFechaFinalizacion">Fecha de Finalizaci√≥n *</label>
                        <input type="date" id="editFechaFinalizacion" required>
                    </div>
                </div>

                <div class="alert alert-info">
                    <strong>Fecha l√≠mite de correcci√≥n:</strong> <span id="editFechaLimite"></span>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="cerrarModalEditarProyecto()">Cancelar</button>
                    <button type="submit" class="btn-primary">üíæ Guardar y Regenerar Reporte</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Ver Reporte -->
    <div id="modalVerReporte" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>üìÑ Reporte de Constancia de Informe General</h3>
                <button class="modal-close" onclick="cerrarModalReporte()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="reporteContent" class="reporte-documento">
                    <!-- Se llenar√° din√°micamente -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="cerrarModalReporte()">Cerrar</button>
                    <button type="button" class="btn-primary" onclick="imprimirReporte()">üñ®Ô∏è Imprimir Reporte</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Editar Proyecto (Solo para investigadores) -->
    <div id="modalEditarProyecto" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>Editar Proyecto</h3>
                <button class="modal-close" onclick="cerrarModalEditarProyecto()">&times;</button>
            </div>
            <form id="formEditarProyecto" class="modal-body">
                <input type="hidden" id="editProyectoId">

                <div class="form-group">
                    <label for="editTituloProyecto">T√≠tulo del Proyecto *</label>
                    <input type="text" id="editTituloProyecto" required>
                </div>

                <div class="form-group">
                    <label for="editDescripcionProyecto">Descripci√≥n *</label>
                    <textarea id="editDescripcionProyecto" required rows="4"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="editObjetivoGeneral">Objetivo General *</label>
                        <input type="text" id="editObjetivoGeneral" required>
                    </div>
                    <div class="form-group">
                        <label for="editMetodologia">Metodolog√≠a *</label>
                        <input type="text" id="editMetodologia" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="editResultadosEsperados">Resultados Esperados *</label>
                    <textarea id="editResultadosEsperados" required rows="3"></textarea>
                </div>

                <div class="alert alert-info">
                    <strong>Fecha l√≠mite de correcci√≥n:</strong> <span id="editFechaLimite"></span>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="cerrarModalEditarProyecto()">Cancelar</button>
                    <button type="submit" class="btn-primary">Guardar Cambios</button>
                </div>
            </form>
        </div>
        <div class="form-group">
            <label for="localizacion">Localizaci√≥n *</label>
            <input type="text" id="localizacion" required placeholder="Lugar donde se realizar√°">
        </div>
    </div>

    <!-- Fechas -->
    <div class="form-row">
        <div class="form-group">
            <label for="fechaInicio">Fecha de Inicio *</label>
            <input type="date" id="fechaInicio" required>
        </div>
        <div class="form-group">
            <label for="fechaFinalizacion">Fecha de Finalizaci√≥n *</label>
            <input type="date" id="fechaFinalizacion" required>
        </div>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn-secondary" onclick="cerrarModalNuevoProyecto()">Cancelar</button>
        <button type="submit" class="btn-primary">üìÑ Crear Proyecto </button>
    </div>
    </form>
    </div>
    </div>

    <!-- Modal Editar Proyecto -->
    <div id="modalEditarProyecto" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>‚úèÔ∏è Editar Informaci√≥n del Proyecto</h3>
                <button class="modal-close" onclick="cerrarModalEditarProyecto()">&times;</button>
            </div>
            <form id="formEditarProyecto" class="modal-body">
                <input type="hidden" id="editProyectoId">

                <div class="alert alert-warning" style="margin-bottom: 20px;">
                    <strong>‚ö†Ô∏è Atenci√≥n:</strong> Al editar el proyecto, se regenerar√° el reporte autom√°ticamente con
                    los nuevos datos.
                </div>

                <!-- T√≠tulo del Proyecto -->
                <div class="form-group">
                    <label for="editTituloProyecto">T√≠tulo del Proyecto *</label>
                    <input type="text" id="editTituloProyecto" required>
                </div>

                <!-- Tipo de Investigaci√≥n y Programa de Estudio -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="editTipoInvestigacion">Tipo de Investigaci√≥n *</label>
                        <select id="editTipoInvestigacion" required>
                            <option value="">Seleccione...</option>
                            <option value="aplicada">Aplicada</option>
                            <option value="innovacion">Innovaci√≥n</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editProgramaEstudio">Programa de Estudio *</label>
                        <select id="editProgramaEstudio" required>
                            <option value="">Seleccione...</option>
                            <option value="asistencia-administrativa">Asistencia Administrativa</option>
                            <option value="diseno-programacion-web">Dise√±o y Programaci√≥n Web</option>
                            <option value="electricidad-industrial">Electricidad Industrial</option>
                            <option value="electronica-industrial">Electr√≥nica industrial</option>
                            <option value="mantenimiento-maquinaria-pesada">Mantenimiento de Maquinaria Pesada</option>
                            <option value="mecatronica-automotriz">Mecatr√≥nica automotriz</option>
                            <option value="mecanica-produccion-industrial">Mec√°nica de producci√≥n industrial</option>
                            <option value="metalurgia">Metalurgia</option>
                            <option value="tecnologia-analisis-quimico">Tecnolog√≠a de An√°lisis Qu√≠mico</option>
                        </select>
                    </div>
                </div>

                <!-- L√≠nea de Investigaci√≥n -->
                <div class="form-group">
                    <label for="editLineaInvestigacion">L√≠nea de Investigaci√≥n *</label>
                    <select id="editLineaInvestigacion" required disabled>
                        <option value="">Primero seleccione un Programa de Estudio</option>
                    </select>
                </div>

                <!-- Integrantes -->
                <div class="form-group">
                    <label for="editIntegrantes">Integrante(s) del Proyecto *</label>
                    <textarea id="editIntegrantes" required rows="3"></textarea>
                </div>

                <!-- Objetivo del Proyecto -->
                <div class="form-group">
                    <label for="editObjetivoProyecto">Objetivo del Proyecto *</label>
                    <textarea id="editObjetivoProyecto" required rows="4"></textarea>
                </div>

                <!-- Beneficiarios y Localizaci√≥n -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="editBeneficiarios">Beneficiarios *</label>
                        <input type="text" id="editBeneficiarios" required>
                    </div>
                    <div class="form-group">
                        <label for="editLocalizacion">Localizaci√≥n *</label>
                        <input type="text" id="editLocalizacion" required>
                    </div>
                </div>

                <!-- Fechas -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="editFechaInicio">Fecha de Inicio *</label>
                        <input type="date" id="editFechaInicio" required>
                    </div>
                    <div class="form-group">
                        <label for="editFechaFinalizacion">Fecha de Finalizaci√≥n *</label>
                        <input type="date" id="editFechaFinalizacion" required>
                    </div>
                </div>

                <div class="alert alert-info">
                    <strong>Fecha l√≠mite de correcci√≥n:</strong> <span id="editFechaLimite"></span>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="cerrarModalEditarProyecto()">Cancelar</button>
                    <button type="submit" class="btn-primary">üíæ Guardar y Regenerar Reporte</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Ver Reporte -->
    <div id="modalVerReporte" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>üìÑ Reporte de Constancia de Informe General</h3>
                <button class="modal-close" onclick="cerrarModalReporte()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="reporteContent" class="reporte-documento">
                    <!-- Se llenar√° din√°micamente -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="cerrarModalReporte()">Cerrar</button>
                    <button type="button" class="btn-primary" onclick="imprimirReporte()">üñ®Ô∏è Imprimir Reporte</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Editar Proyecto (Solo para investigadores) -->
    <div id="modalEditarProyecto" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>Editar Proyecto</h3>
                <button class="modal-close" onclick="cerrarModalEditarProyecto()">&times;</button>
            </div>
            <form id="formEditarProyecto" class="modal-body">
                <input type="hidden" id="editProyectoId">

                <div class="form-group">
                    <label for="editTituloProyecto">T√≠tulo del Proyecto *</label>
                    <input type="text" id="editTituloProyecto" required>
                </div>

                <div class="form-group">
                    <label for="editDescripcionProyecto">Descripci√≥n *</label>
                    <textarea id="editDescripcionProyecto" required rows="4"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="editObjetivoGeneral">Objetivo General *</label>
                        <input type="text" id="editObjetivoGeneral" required>
                    </div>
                    <div class="form-group">
                        <label for="editMetodologia">Metodolog√≠a *</label>
                        <input type="text" id="editMetodologia" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="editResultadosEsperados">Resultados Esperados *</label>
                    <textarea id="editResultadosEsperados" required rows="3"></textarea>
                </div>

                <div class="alert alert-info">
                    <strong>Fecha l√≠mite de correcci√≥n:</strong> <span id="editFechaLimite"></span>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="cerrarModalEditarProyecto()">Cancelar</button>
                    <button type="submit" class="btn-primary">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>




    <script src="js/main.js"></script>
    <script src="js/investigador.js"></script>
    <script src="js/evaluador.js"></script>
    <script>
        // Mapeo de Programas de Estudio a L√≠neas de Investigaci√≥n
        const programasLineas = {
            'asistencia-administrativa': [
                { value: 'gestion-documentaria', text: 'Gesti√≥n documentaria' },
                { value: 'gestion-recursos-humanos-financieros', text: 'Gesti√≥n de recursos humanos y financieros' },
                { value: 'gestion-eventos-protocolares', text: 'Gesti√≥n de eventos y actividades protocolares' }
            ],
            'diseno-programacion-web': [
                { value: 'diseno-web-multimedia', text: 'Dise√±o web y aplicaciones multimedia' },
                { value: 'aplicaciones-web', text: 'Aplicaciones web' },
                { value: 'integracion-aplicaciones-web-moviles', text: 'Integraci√≥n de aplicaciones web y m√≥viles' }
            ],
            'electricidad-industrial': [
                { value: 'instalacion-mantenimiento-sistemas-electricos', text: 'Instalaci√≥n y mantenimiento de sistemas el√©ctricos' },
                { value: 'suministro-mantenimiento-electrico-edificaciones', text: 'Suministro y mantenimiento el√©ctrico de edificaciones y m√°quinas el√©ctricas' },
                { value: 'automatizacion-control-sistemas-electricos', text: 'Automatizaci√≥n y control de sistemas y equipos el√©ctricos' }
            ],
            'electronica-industrial': [
                { value: 'instalacion-mantenimiento-sistemas-electricos-electronicos', text: 'Instalaci√≥n y mantenimiento de sistemas el√©ctricos y electr√≥nicos' },
                { value: 'diseno-operacion-sistemas-electricos-electronicos', text: 'Dise√±o y operaci√≥n de sistemas el√©ctricos y electr√≥nicos' },
                { value: 'sistemas-automatizacion-potencia', text: 'Sistemas de automatizaci√≥n y potencia' },
                { value: 'sistemas-control-procesos-redes-comunicaciones', text: 'Sistemas de control de procesos, redes y comunicaciones industriales' }
            ],
            'mantenimiento-maquinaria-pesada': [
                { value: 'mecanica-banco-instalaciones-electricas', text: 'Mec√°nica de Banco e Instalaciones El√©ctricas B√°sicas' },
                { value: 'mantenimiento-motores-combustion-interna', text: 'Mantenimiento de Motores de Combusti√≥n Interna' },
                { value: 'mantenimiento-sistemas-hidraulicos-frenos-direccion', text: 'Mantenimiento de Sistemas Hidr√°ulicos, Frenos, Direcci√≥n, Suspensi√≥n y Transmisi√≥n de Maquinaria Pesada' }
            ],
            'mecatronica-automotriz': [
                { value: 'mantenimiento-suspension-direccion-frenos-electronica', text: 'Mantenimiento de los sistemas de suspensi√≥n, direcci√≥n y frenos automotrices con asistencia electr√≥nica' },
                { value: 'mantenimiento-sistemas-electricos-electronicos-automotrices', text: 'Mantenimiento de los sistemas el√©ctricos y electr√≥nicos automotrices' },
                { value: 'mantenimiento-transmision-asistencia-electronica', text: 'Mantenimiento de los sistemas de transmisi√≥n con asistencia electr√≥nica' }
            ],
            'mecanica-produccion-industrial': [
                { value: 'diseno-tecnologia-soldadura', text: 'Dise√±o y tecnolog√≠a de la soldadura' },
                { value: 'proceso-mecanizado-piezas-matriceria', text: 'Proceso de mecanizado de piezas y matricer√≠a' },
                { value: 'fabricacion-automatizacion-industrial', text: 'Fabricaci√≥n y automatizaci√≥n industrial' }
            ],
            'metalurgia': [
                { value: 'tecnicas-conminacion-minerales', text: 'T√©cnicas de Conminaci√≥n en Minerales' },
                { value: 'procesamiento-minerales', text: 'Procesamiento de Minerales' },
                { value: 'control-calidad-procesos-metalurgicos', text: 'Control de Calidad en Procesos Metal√∫rgicos' }
            ],
            'tecnologia-analisis-quimico': [
                { value: 'preparacion-muestras-quimicas', text: 'T√©cnico en Preparaci√≥n de Muestras Qu√≠micas' },
                { value: 'ensayos-fisico-quimicos', text: 'T√©cnico en Ensayos F√≠sico-Qu√≠micos' },
                { value: 'analisis-instrumental', text: 'T√©cnico en An√°lisis Instrumental' }
            ]
        };

        // Funci√≥n para actualizar las l√≠neas de investigaci√≥n seg√∫n el programa seleccionado
        function actualizarLineasInvestigacion(programaSelectId, lineaSelectId) {
            const programaSelect = document.getElementById(programaSelectId);
            const lineaSelect = document.getElementById(lineaSelectId);

            const programaValue = programaSelect.value;

            // Limpiar opciones actuales
            lineaSelect.innerHTML = '<option value="">Seleccione una l√≠nea de investigaci√≥n</option>';

            if (programaValue && programasLineas[programaValue]) {
                // Habilitar el select y agregar las opciones correspondientes
                lineaSelect.disabled = false;

                programasLineas[programaValue].forEach(linea => {
                    const option = document.createElement('option');
                    option.value = linea.value;
                    option.textContent = linea.text;
                    lineaSelect.appendChild(option);
                });
            } else {
                // Deshabilitar el select si no hay programa seleccionado
                lineaSelect.disabled = true;
                lineaSelect.innerHTML = '<option value="">Primero seleccione un Programa de Estudio</option>';
            }
        }

        // Cargar proyectos de la categor√≠a al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', function () {
            cargarProyectosCategoria();

            // Agregar event listeners para la cascada en el formulario de nuevo proyecto
            const programaEstudio = document.getElementById('programaEstudio');
            if (programaEstudio) {
                programaEstudio.addEventListener('change', function () {
                    actualizarLineasInvestigacion('programaEstudio', 'lineaInvestigacion');
                });
            }

            // Agregar event listeners para la cascada en el formulario de edici√≥n
            const editProgramaEstudio = document.getElementById('editProgramaEstudio');
            if (editProgramaEstudio) {
                editProgramaEstudio.addEventListener('change', function () {
                    actualizarLineasInvestigacion('editProgramaEstudio', 'editLineaInvestigacion');
                });
            }
        });
    </script>
</body>

</html>